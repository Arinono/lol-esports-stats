datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

enum GameRole {
  Top
  Mid
  Jungle
  Support
  Bot
}

enum ChampionAttribute {
  Tank
  Mage
  Assassin
  Marksman
  Support
  Fighter
}

enum ChampionRange {
  Ranged
  Melee
  Switches
}

enum DamageType {
  Hybrid
  Physical
  Magical
  MagicalTrue
}

enum ChampionResource {
  BloodWell
  Mana
  Energy
  Rage
  Courage
  Shield
  Fury
  Ferocity
  Heat
  Grit
  CrimsonRush
  Flow
}

model Champion {
  uid                         Int @id @default(autoincrement())
  name                        String @unique
  title                       String @unique
  releaseDate                 DateTime
  BE                          Int
  RP                          Int
  attributes                  ChampionAttribute[]
  resource                    ChampionResource?
  health                      Float
  HPLevel                     Int
  HPRegen                     Float
  HPRegenLevel                Float
  mana                        Float?
  manaLevel                   Float?
  manaRegen                   Float?
  manaRegenLevel              Float?
  energy                      Int?
  energyRegen                 Int?
  movespeed                   Int
  attackDamage                Float
  ADLevel                     Float
  attackSpeed                 Float
  ASLevel                     Float
  attackRange                 Int
  armor                       Int
  armorLevel                  Float
  magicResist                 Float
  magicResistLevel            Float
  pronoun                     String
  championRange               ChampionRange?
  damageType                  DamageType?
  CCLevel                     Int?
  burstLevel                  Int?
  sustainedLevel              Int?
  tankLevel                   Int?
  goal                        String?
  strengths                   String?
  weaknesses                  String?
  ultimate                    String?
  mechanic                    String?
  roles                       GameRole[]
  playedBy                    Player[]
}

enum StaffRole {
  Coach
  Caster
  Manager
  Analyst
  Substitute
  Streamer
  Owner
}

model Player {
  uid                         Int @id @default(autoincrement())
  player                      String @unique
  name                        String?
  country                     String?
  nationalityPrimary          String?
  age                         Int?
  birthdate                   DateTime?
  residencyFormer             String?
  team                        String?
  team2                       String?
  currentTeams                String[]
  residency                   String?
  favoriteChampions           Champion[] @relation(references: [uid])
  soloqueueIds                String[]
  teamLast                    String?
  lastPlayerRole              GameRole?
  lastStaffRole               StaffRole?
  isRetired                   Boolean?
  isSubstitute                Boolean?
  isTrainee                   Boolean?
}
